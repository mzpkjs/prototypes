parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"vqNL":[function(require,module,exports) {
var t=document.createElement("div");t.style.position="fixed",t.style.top="0",t.style.left="0",t.className="dev",t.innerHTML='\n<div>\n    <strong>Guide</strong>\n    <p>\n        Use `1` - `3` keys to switch between modes. <br> \n        Keep in mind once you switch to mode `3` you cannot switch back. <br>\n    </p>\n    <p>\n        Use mouse wheel while hovering the layer to rotate the image.\n    </p>\n    <br>\n    <strong>State</strong>\n</div>\n<table>\n    <tr>\n        <td>FPS</td>\n        <td align="right"><span class="fps"/></td>\n    </tr>\n    <tr>\n        <td>MODE</td>\n        <td align="center"><span class="mode"/></td>\n    </tr>\n    <tr>\n        <td>ROTATION</td>\n        <td align="right"><span class="rotation"/></td>\n    </tr>\n</table>\n',document.body.prepend(t);var n=t.querySelector(".fps"),e=t.querySelector(".mode"),o=t.querySelector(".rotation");e.textContent="Locked Scaling",o.textContent="0.00Â°";var r=0,a=0;function s(){var t=Date.now();if(a++,t>r+1e3){var e=Math.round(1e3*a/(t-r));r=t,a=0,n.textContent=String(e)}requestAnimationFrame(s)}s();
},{}],"cCND":[function(require,module,exports) {
"use strict";function t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function e(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach(function(t){r(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.scale=exports.rotate=exports.translate=exports.identity=void 0;var n=function(){return{a:1,b:0,c:0,d:1,tx:0,ty:0}};exports.identity=n;var o=function(t,r,n){return e(e({},t),{tx:r,ty:n})};exports.translate=o;var a=function(t,r){return e(e({},t),{a:Math.cos(r),b:-Math.sin(r),c:Math.sin(r),d:Math.cos(r)})};exports.rotate=a;var c=function(t,r){return e(e({},t),{a:t[0]*r,b:t[1]*r,c:t[2]*r,d:t[3]*r})};exports.scale=c;var s={identity:n,translate:o,rotate:a,scale:c},i=s;exports.default=i;
},{}],"GXO0":[function(require,module,exports) {
"use strict";function e(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=t(e))){var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i,a=!0,u=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==o.return||o.return()}finally{if(u)throw i}}}}function t(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}var a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.EventType=void 0,exports.EventType=a,function(e){e.MOUSE_MOVE="mousemove",e.MOUSE_DOWN="mousedown",e.MOUSE_UP="mouseup"}(a||(exports.EventType=a={}));var u=function(){function t(e,n){r(this,t),this._targets=new Set,this._event=e,this._listener=n}return i(t,[{key:"subscribe",value:function(e){return e.addEventListener(this._event,this._listener),this._targets.add(e),this}},{key:"destroy",value:function(){var t,n=e(this._targets);try{for(n.s();!(t=n.n()).done;){t.value.removeEventListener(this._event,this._listener)}}catch(r){n.e(r)}finally{n.f()}}}]),t}(),s=u;exports.default=s;
},{}],"SqR3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.ap=exports.direction=exports.distance=exports.length=exports.normalize=exports.scale=exports.dot=exports.rotate2=exports.rotate=exports.divide=exports.multiply=exports.subtract=exports.add=exports.create=void 0;var t=function(t){return{x:t,y:arguments.length>1&&void 0!==arguments[1]?arguments[1]:t}};exports.create=t;var r=function(t,r){return{x:t.x+r.x,y:t.y+r.y}};exports.add=r;var e=function(t,r){return{x:t.x-r.x,y:t.y-r.y}};exports.subtract=e;var o=function(t,r){return{x:t.x*r.x,y:t.y*r.y}};exports.multiply=o;var n=function(t,r){return{x:t.x/r.x,y:t.y/r.y}};exports.divide=n;var x=function(t,r,e){var o=r.x-t.x,n=r.y-t.y;return{x:Math.cos(e)*o+Math.sin(e)*n+t.x,y:Math.cos(e)*n-Math.sin(e)*o+t.y}};exports.rotate=x;var a=function(t,r){return{x:t.x*Math.cos(r)-t.y*Math.sin(r),y:t.x*Math.sin(r)+t.y*Math.cos(r)}};exports.rotate2=a;var s=function(t,r){return t.x*r.x+t.y*r.y};exports.dot=s;var i=function(t,r){return o(t,{x:r,y:r})};exports.scale=i;var p=function(t){var r=1/u(t);return i(t,r===1/0?0:r)};exports.normalize=p;var u=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)};exports.length=u;var c=function(t,r){return Math.hypot(r.x-t.x,r.y-t.y)};exports.distance=c;var y=function(t){return-Math.atan2(t.y,t.x)-Math.PI};exports.direction=y;var d=function(t,r){return{x:r(t.x),y:r(t.y)}};exports.ap=d;var v={create:t,add:r,subtract:e,multiply:o,divide:n,rotate:x,scale:i,length:u,distance:c,direction:y,normalize:p,ap:d,dot:s},l=v;exports.default=l;
},{}],"gyKP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.ShapeEvent=void 0;var e,t=a(require("../Event/EventListener")),n=s(require("../Math/Matrix")),i=require("../Math/Vector");function s(e){return e&&e.__esModule?e:{default:e}}function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,t&&t.set(e,n),n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}exports.ShapeEvent=e,function(e){e.MOVE="shape:move",e.MOVE_START="shape:movestart",e.MOVE_END="shape:moveend"}(e||(exports.ShapeEvent=e={}));var c=function(){function s(){var o=this;r(this,s),this._transform=n.default.identity(),this._origin={x:.5,y:.5},this._scale={x:1,y:1},this._direction=0,this._state={isActive:!1,isMoving:!1,payloads:{move:{shape:this,destination:this,offset:{x:0,y:0}}}},this._handleMouseMove=new t.default(t.EventType.MOUSE_MOVE,function(t){if(t.preventDefault(),o._state.isActive){var n=o._state.payloads.move;n.shape=o,n.destination={x:t.pageX-o.element.parentElement.offsetLeft,y:t.pageY-o.element.parentElement.offsetTop},o._state.isMoving?o.element.dispatchEvent(new CustomEvent(e.MOVE,{bubbles:!0,detail:n})):(o._state.payloads.move.offset=(0,i.subtract)(n.shape,n.destination),o.element.dispatchEvent(new CustomEvent(e.MOVE_START,{bubbles:!0,detail:n})),o._state.isMoving=!0)}}),this._handleMouseDown=new t.default(t.EventType.MOUSE_DOWN,function(e){e.preventDefault(),o._state.isMoving||(o.element.classList.add("active"),o._state.isActive=!0)}),this._handleMouseUp=new t.default(t.EventType.MOUSE_UP,function(t){if(t.preventDefault(),o._state.isMoving){o.element.classList.remove("active"),o._state.isActive=!1,o._state.isMoving=!1;var n=o._state.payloads.move;o.element.dispatchEvent(new CustomEvent(e.MOVE_END,{bubbles:!0,detail:n}))}}),this._element=document.createElement("div"),this._element.style.position="absolute",this._element.style.zIndex="100",this._element.style["mix-blend-mode"]="exclusion",this._element.style["-webkit-font-smoothing"]="subpixel-antialiased"}return l(s,[{key:"prepare",value:function(e){e.append(this._element),this._handleMouseMove.subscribe(document),this._handleMouseDown.subscribe(this.element),this._handleMouseUp.subscribe(document)}},{key:"destroy",value:function(){this._handleMouseMove.destroy(),this._handleMouseDown.destroy(),this._handleMouseUp.destroy(),this._element.remove()}},{key:"draw",value:function(){var e=this._transform,t=e.a,n=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty;this.element.style.transformOrigin="".concat(100*this.origin.x,"% ").concat(100*this.origin.y,"%"),this.element.style.transform="matrix(".concat(t,", ").concat(n,", ").concat(i,", ").concat(s,", ").concat(this.x+o,", ").concat(this.y+a,")")}},{key:"element",get:function(){return this._element}},{key:"dimension",get:function(){return{x:this.width,y:this.height}}},{key:"width",get:function(){return this._element.offsetWidth}},{key:"height",get:function(){return this._element.offsetHeight}},{key:"origin",get:function(){return this._origin},set:function(e){this._origin=e}},{key:"scale",get:function(){return this._origin},set:function(e){this._scale=e}},{key:"direction",get:function(){return this._direction},set:function(e){this._direction=e}}]),s}(),h=c;exports.default=h;
},{"../Event/EventListener":"GXO0","../Math/Matrix":"cCND","../Math/Vector":"SqR3"}],"rP2Z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../Math/Matrix"),e=n(require("./Shape"));function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=s(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=b(t)););return t}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=p();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(n){f(i,e.default);var r=y(i);function i(t,e){var n;return o(this,i),(n=r.call(this))._position={x:t,y:e},n.element.className="shape point",n.element.style.cursor="pointer",n}return c(i,[{key:"prepare",value:function(t){u(b(i.prototype),"prepare",this).call(this,t)}},{key:"destroy",value:function(){u(b(i.prototype),"destroy",this).call(this)}},{key:"draw",value:function(){this._transform=(0,t.translate)(this._transform,-this.width*this.origin.x,-this.height*this.origin.y),this._transform=(0,t.rotate)(this._transform,this.direction);var e=this._transform,n=e.a,r=e.b,o=e.c,i=e.d,c=e.tx,u=e.ty;this.element.style.transformOrigin="".concat(100*this.origin.x,"% ").concat(100*this.origin.y,"%"),this.element.style.transform="matrix(".concat(n,", ").concat(r,", ").concat(o,", ").concat(i,", ").concat(this.x+c,", ").concat(this.y+u,")")}},{key:"position",get:function(){return{x:this.x,y:this.y}},set:function(t){this.x=t.x,this.y=t.y}},{key:"x",get:function(){return this._position.x},set:function(t){this._position.x=t}},{key:"y",get:function(){return this._position.y},set:function(t){this._position.y=t}},{key:"a",get:function(){return{x:this.ax,y:this.bx}}},{key:"b",get:function(){return{x:this.bx,y:this.by}}},{key:"ax",get:function(){return this.x-this.width*this.origin.x}},{key:"ay",get:function(){return this.y-this.height*this.origin.y}},{key:"bx",get:function(){return this.x+this.width*(1-this.origin.x)}},{key:"by",get:function(){return this.y-this.width*(1-this.origin.y)}}]),i}(),x=g;exports.default=x;
},{"../Math/Matrix":"cCND","./Shape":"gyKP"}],"fEuX":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=function(){var t=function(){function t(n){var i=this;e(this,t),this._state={initialized:null,active:!1,cursor:""},this._onmousedown=function(e){e.preventDefault(),t.enabled&&(i._state.active=!0,i._target.element.classList.add("active"))},this._onmouseup=function(e){e.preventDefault(),t.enabled&&(i._state.active=!1,i._target.element.classList.remove("active"))},this._onscroll=function(e){if(t.enabled){i._target.direction+=.025*Math.PI*Math.sign(e.deltaY),document.querySelector(".rotation").textContent="".concat((i._target.direction*(180/Math.PI)).toFixed(2),"Â°")}},this._target=n,this._state.initialized=requestAnimationFrame(function(){i._target.element.addEventListener("mousedown",i._onmousedown),document.addEventListener("mouseup",i._onmouseup),document.addEventListener("wheel",i._onscroll)})}return n(t,[{key:"destroy",value:function(){null!==this._state.initialized?cancelAnimationFrame(this._state.initialized):(this._target.element.removeEventListener("mousedown",this._onmousedown),document.removeEventListener("mouseup",this._onmouseup),document.removeEventListener("scroll",this._onscroll))}}]),t}();return t.enabled=!0,t}(),o=i;exports.default=o;
},{}],"a8Vj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../Math/Matrix"),e=o(require("../Math/Vector")),n=r(require("./Shape"));function r(t){return t&&t.__esModule?t:{default:t}}function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}function o(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var u=r?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=t[o]}return n.default=t,e&&e.set(t,n),n}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=p(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function p(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=_();return function(){var n,r=g(t);if(e){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(r){l(o,n.default);var i=y(o);function o(t,e){var n;s(this,o),(n=i.call(this)).origin={x:0,y:.5},n._pointA=t,n._pointB=e;var r=document.createElement("div");return r.className="shape line",n.element.style.height="0",n.element.append(r),n}return a(o,[{key:"prepare",value:function(t){f(g(o.prototype),"prepare",this).call(this,t),this._pointA.prepare(t),this._pointB.prepare(t)}},{key:"destroy",value:function(){f(g(o.prototype),"destroy",this).call(this),this._pointA.destroy(),this._pointB.destroy()}},{key:"draw",value:function(){this._pointA.draw(),this._pointB.draw(),this.element.style.width="".concat((0,e.distance)(this.a,this.b),"px"),this._transform=(0,t.translate)(this._transform,this.origin.x,-this.height*this.origin.y),this._transform=(0,t.rotate)(this._transform,this.direction),f(g(o.prototype),"draw",this).call(this)}},{key:"position",get:function(){return{x:this.x,y:this.y}},set:function(t){var n=(0,e.subtract)(this.b,this.a);this.a=t,this.b=(0,e.add)(t,n)}},{key:"x",get:function(){return this.ax},set:function(t){this.position={x:t,y:this.y}}},{key:"y",get:function(){return this.ay},set:function(t){this.position={x:this.x,y:t}}},{key:"a",get:function(){return this._pointA.position},set:function(t){this._pointA.position=t}},{key:"b",get:function(){return this._pointB.position},set:function(t){this._pointB.position=t}},{key:"ax",get:function(){return this.a.x},set:function(t){this.a.x=t}},{key:"bx",get:function(){return this.b.x},set:function(t){this.b.x=t}},{key:"ay",get:function(){return this.a.y},set:function(t){this.a.y=t}},{key:"by",get:function(){return this.b.y},set:function(t){this.b.y=t}},{key:"direction",get:function(){return(0,e.direction)((0,e.normalize)((0,e.subtract)(this.a,this.b)))},set:function(t){var n=t-this._direction;this.b=e.default.rotate(this.b,this.a,n),this._direction=(0,e.direction)((0,e.normalize)((0,e.subtract)(this.a,this.b)))}}]),o}(),m=v;exports.default=m;
},{"../Math/Matrix":"cCND","../Math/Vector":"SqR3","./Shape":"gyKP"}],"HzI9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("../Behaviour/RotatableBehaviour")),e=require("../Math/Matrix"),n=require("../Math/Vector"),r=o(require("./Line")),i=o(require("./Shape"));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){return f(t)||c(t)||y(t)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function f(t){if(Array.isArray(t))return l(t)}function h(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=y(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){a=!0,i=t},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function y(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function g(t,e,n,r){return(g="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,r){var i,o=w(t,e);if(o){if((i=Object.getOwnPropertyDescriptor(o,e)).set)return i.set.call(r,n),!0;if(!i.writable)return!1}if(i=Object.getOwnPropertyDescriptor(r,e)){if(!i.writable)return!1;i.value=n,Object.defineProperty(r,e,i)}else x(r,e,n);return!0})(t,e,n,r)}function v(t,e,n,r,i){if(!g(t,e,n,r||t)&&i)throw new Error("failed to set property");return n}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e,n){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=w(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function w(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}function _(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function k(t){var e=S();return function(){var n,r=P(t);if(e){var i=P(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return j(this,n)}}function j(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?M(t):e}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var R=function(o){_(u,i.default);var a=k(u);function u(){var e;p(this,u),(e=a.call(this))._rotatable=new t.default(M(e));for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];e._points=i,e._shapes=[];for(var s=0,c=s+1;s<i.length;s++,c++)c<i.length?e._shapes.push(i[s],new r.default(i[s],i[c])):e._shapes.push(i[s],new r.default(i[s],i[0]));return e.element.className="shape polygon",e.element.style.cursor="move",e}return b(u,[{key:"prepare",value:function(t){m(P(u.prototype),"prepare",this).call(this,t);var e,n=h(this._shapes);try{for(n.s();!(e=n.n()).done;){e.value.prepare(t)}}catch(r){n.e(r)}finally{n.f()}}},{key:"destroy",value:function(){m(P(u.prototype),"destroy",this).call(this);var t,e=h(this._shapes);try{for(e.s();!(t=e.n()).done;){t.value.destroy()}}catch(n){e.e(n)}finally{e.f()}}},{key:"draw",value:function(){var t,n=h(this._shapes);try{for(n.s();!(t=n.n()).done;){t.value.draw()}}catch(r){n.e(r)}finally{n.f()}this.element.style.width="".concat(this.width,"px"),this.element.style.height="".concat(this.height,"px"),this._transform=(0,e.translate)(this._transform,-this.width*this.origin.x,-this.height*this.origin.y),m(P(u.prototype),"draw",this).call(this)}},{key:"points",get:function(){return this._points}},{key:"width",get:function(){return this.bx-this.ax}},{key:"height",get:function(){return this.by-this.ay}},{key:"innerDimension",get:function(){return{x:this.innerWidth,y:this.innerHeight}}},{key:"innerWidth",get:function(){return(0,n.distance)(this.a,{x:this.bx,y:this.ay})}},{key:"innerHeight",get:function(){return(0,n.distance)(this.a,{x:this.ax,y:this.by})}},{key:"position",get:function(){return{x:this.ax+this.width*this.origin.x,y:this.ay+this.height*this.origin.y}},set:function(t){var e,r=this.position,i=h(this._points);try{for(i.s();!(e=i.n()).done;){var o=e.value,a=(0,n.subtract)(o.position,r);o.x===r.x?o.x=t.x:o.x<r.x?o.x=t.x+a.x:o.x>r.x&&(o.x=t.x+a.x),o.y===r.y?o.y=t.y:o.y<r.y?o.y=t.y+a.y:o.y>r.y&&(o.y=t.y+a.y)}}catch(s){i.e(s)}finally{i.f()}}},{key:"x",get:function(){return this.position.x},set:function(t){this.position={x:t,y:this.y}}},{key:"y",get:function(){return this.position.y},set:function(t){this.position={x:this.x,y:t}}},{key:"a",get:function(){return{x:this.ax,y:this.ay}}},{key:"b",get:function(){return{x:this.bx,y:this.by}}},{key:"ax",get:function(){return Math.min.apply(Math,s(this._points.map(function(t){return t.x})))}},{key:"ay",get:function(){return Math.min.apply(Math,s(this._points.map(function(t){return t.y})))}},{key:"bx",get:function(){return Math.max.apply(Math,s(this._points.map(function(t){return t.x})))}},{key:"by",get:function(){return Math.max.apply(Math,s(this._points.map(function(t){return t.y})))}},{key:"scale",get:function(){return this._scale},set:function(t){var e=(0,n.divide)(t,this._scale),r=this.origin,i=this._direction;this.origin={x:.5,y:.5},this.direction=0,this.origin=r;var o,a=.5*this.width,s=.5*this.height,u=this.position,c=u.x,f=u.y,y=h(this._points);try{for(y.s();!(o=y.n()).done;){var l=o.value;l.x=e.x*(l.x-c)+c,l.y=e.y*(l.y-f)+f}}catch(p){y.e(p)}finally{y.f()}this.origin={x:Math.abs(r.x-a/this.width),y:Math.abs(s/this.height-r.y)},this.direction=i,this.origin=r,this._scale=t}},{key:"direction",get:function(){return m(P(u.prototype),"direction",this)},set:function(t){Math.abs(t)>=2*Math.PI&&(t=0);var e,r=t-m(P(u.prototype),"direction",this),i=this.position,o=h(this._points);try{for(o.s();!(e=o.n()).done;){var a=e.value;a.position=(0,n.rotate)(i,a,r),a.direction=t}}catch(s){o.e(s)}finally{o.f()}v(P(u.prototype),"direction",t,this,!0)}}]),u}(),A=R;exports.default=A;
},{"../Behaviour/RotatableBehaviour":"fEuX","../Math/Matrix":"cCND","../Math/Vector":"SqR3","./Line":"a8Vj","./Shape":"gyKP"}],"Xuv6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../Core/Event/EventListener")),t=require("../Core/Math/Vector"),n=require("../Core/Shape/Shape");function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw o}}}}function i(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var f=function(){function r(i,a,l){u(this,r),this._handleMove=new e.default(n.ShapeEvent.MOVE,function(e){var n=e.detail,r=n.shape,o=n.destination,i=n.offset;r.position=(0,t.add)(o,i)}),this._handleResize=new e.default(n.ShapeEvent.MOVE,function(e){var t=e.detail,n=t.shape,r=t.destination;console.log(n),n.position=r}),this._canvas=i,this._polygon=a,this._points=l,this._handleMove.subscribe(this._polygon.element);var s,f=o(this._polygon.points);try{for(f.s();!(s=f.n()).done;){var c=s.value;this._handleResize.subscribe(c.element)}}catch(d){f.e(d)}finally{f.f()}}return s(r,[{key:"destroy",value:function(){this._handleMove.destroy(),this._handleResize.destroy()}}]),r}(),c=f;exports.default=c;
},{"../Core/Event/EventListener":"GXO0","../Core/Math/Vector":"SqR3","../Core/Shape/Shape":"gyKP"}],"Q3Dp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("../Core/Event/EventListener")),t=require("../Core/Math/Vector"),n=require("../Core/Shape/Shape");function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=r(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,a=!0,l=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==i.return||i.return()}finally{if(l)throw o}}}}function r(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var d=function(){function i(r,a,s){var u=this;l(this,i),this._handleMove=new e.default(n.ShapeEvent.MOVE,function(e){var n=e.detail,i=n.shape,o=n.destination,r=n.offset;i.position=(0,t.add)(o,r)}),this._handleResize=new e.default(n.ShapeEvent.MOVE,function(e){if(void 0!==u._state){var n=u._state,i=n.initialPolygonOrigin,o=n.initialPolygonOriginOffset,r=n.initialPolygonScale,a=n.initialActivePoint,l=n.initialFarthestPoint,s=e.detail.destination,d=(0,t.distance)(s,l),c=(0,t.distance)(a,l),f=(0,t.scale)(r,d/c-1);u._polygon.origin=o,u._polygon.scale=(0,t.add)(f,r),u._polygon.origin=i}}),this._handleResizeStart=new e.default(n.ShapeEvent.MOVE_START,function(e){var n=e.detail.shape;u._state={initialPolygonOrigin:u._polygon.origin,initialPolygonOriginOffset:(0,t.ap)((0,t.divide)((0,t.subtract)(n,u._polygon.a),u._polygon.dimension),function(e){return-~-Math.round(e)}),initialPolygonScale:u._polygon.scale,initialActivePoint:n.position,initialFarthestPoint:u._polygon.points.reduce(function(e,i){return(0,t.distance)(n,i)>(0,t.distance)(n,e)?i:e}).position}}),this._handleResizeEnd=new e.default(n.ShapeEvent.MOVE_END,function(e){u._polygon.origin=u._state.initialPolygonOrigin,delete u._state}),this._canvas=r,this._polygon=a,this._points=s,this._handleMove.subscribe(this._polygon.element);var d,c=o(this._polygon.points);try{for(c.s();!(d=c.n()).done;){var f=d.value;this._handleResize.subscribe(f.element),this._handleResizeStart.subscribe(f.element),this._handleResizeEnd.subscribe(f.element)}}catch(h){c.e(h)}finally{c.f()}}return u(i,[{key:"destroy",value:function(){this._handleMove.destroy(),this._handleResize.destroy(),this._handleResizeStart.destroy(),this._handleResizeEnd.destroy()}}]),i}(),c=d;exports.default=c;
},{"../Core/Event/EventListener":"GXO0","../Core/Math/Vector":"SqR3","../Core/Shape/Shape":"gyKP"}],"Tn6e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("../Core/Event/EventListener")),t=require("../Core/Math/Vector"),n=require("../Core/Shape/Shape");function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=a(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,r=!0,l=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return r=e.done,e},e:function(e){l=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(l)throw o}}}}function a(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var u=function(){function i(a,r,s){var c=this;l(this,i),this._handleMove=new e.default(n.ShapeEvent.MOVE,function(e){var n=e.detail,i=n.shape,o=n.destination,a=n.offset;i.position=(0,t.add)(o,a)}),this._handleResize=new e.default(n.ShapeEvent.MOVE,function(e){if(void 0!==c._state){var n=c._state,i=n.initialPolygonOrigin,o=n.initialPolygonOriginOffset,a=n.initialPolygonScale,r=n.initialActivePoint,l=(n.initialFarthestPoint,n.initialHorizontalPoint),s=n.initialVerticalPoint,u=e.detail,d=(u.shape,u.destination),h=(Math.abs,Math.atan2,Math.cos),f=Math.acos,y=(Math.PI,(0,t.subtract)(d,r)),p=(0,t.subtract)(l,r),g=(0,t.subtract)(s,r),v=f((0,t.dot)((0,t.normalize)(y),(0,t.normalize)(p))),b=f((0,t.dot)((0,t.normalize)(y),(0,t.normalize)(g)));c._polygon.origin=o;var _=(0,t.multiply)(a,{x:(-h(v)*(0,t.length)(y)+(0,t.length)(p))/(0,t.length)(p)-1,y:(-h(b)*(0,t.length)(y)+(0,t.length)(g))/(0,t.length)(g)-1});_.x===-1/0&&(_.x=0),_.y===-1/0&&(_.y=0),c._polygon.scale=(0,t.add)(a,_),c._polygon.origin=i}}),this._handleResizeStart=new e.default(n.ShapeEvent.MOVE_START,function(e){var n=e.detail.shape,i=c._polygon.direction;c._polygon.direction=0;var o=(0,t.ap)((0,t.divide)((0,t.subtract)(n,c._polygon.a),c._polygon.dimension),function(e){return-~-Math.round(e)});c._polygon.direction=i;var a,r,l=c._points,s=l.a,u=l.ab,d=l.b,h=l.bc,f=l.c,y=l.cd,p=l.d,g=l.da;switch(n){case s:a=d,r=p;break;case u:a=u,r=y;break;case d:a=s,r=f;break;case h:a=g,r=h;break;case f:a=p,r=d;break;case y:a=y,r=u;break;case p:a=f,r=s;break;case g:a=h,r=g;break;default:throw new Error}c._state={initialHorizontalPoint:a.position,initialVerticalPoint:r.position,initialPolygonOrigin:c._polygon.origin,initialPolygonOriginOffset:o,initialPolygonScale:c._polygon.scale,initialActivePoint:n.position,initialFarthestPoint:c._polygon.points.reduce(function(e,i){return(0,t.distance)(n,i)>(0,t.distance)(n,e)?i:e}).position}}),this._handleResizeEnd=new e.default(n.ShapeEvent.MOVE_END,function(e){delete c._state}),this._canvas=a,this._polygon=r,this._points=s,this._handleMove.subscribe(this._polygon.element);var u,d=o(this._polygon.points);try{for(d.s();!(u=d.n()).done;){var h=u.value;this._handleResize.subscribe(h.element),this._handleResizeStart.subscribe(h.element),this._handleResizeEnd.subscribe(h.element)}}catch(f){d.e(f)}finally{d.f()}}return c(i,[{key:"destroy",value:function(){this._handleMove.destroy(),this._handleResize.destroy(),this._handleResizeStart.destroy(),this._handleResizeEnd.destroy()}}]),i}(),d=u;exports.default=d;
},{"../Core/Event/EventListener":"GXO0","../Core/Math/Vector":"SqR3","../Core/Shape/Shape":"gyKP"}],"ESQc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("./Core/Shape/Point")),t=a(require("./Core/Shape/Polygon")),n=a(require("./Strategy/FreePolygonStrategy")),o=a(require("./Strategy/LockedScalingStrategy")),r=a(require("./Strategy/UnlockedScalingStrategy"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var u=function(){function a(s,l){var u=this;i(this,a),this._subject=l;var d=new e.default(0,0),c=new e.default(160,0),y=new e.default(320,0),p=new e.default(320,120),f=new e.default(320,240),g=new e.default(160,240),w=new e.default(0,240),_=new e.default(0,120);this._polygon=new t.default(d,c,y,p,f,g,w,_),this._points={a:d,ab:c,b:y,bc:p,c:f,cd:g,d:w,da:_},this._subject.strategy=new o.default(s,this._polygon,this._points);var h=document.querySelector(".mode"),v=!1;window.addEventListener("keypress",function(e){var t=e.key;if(!v)switch(t){case"1":l.strategy.destroy(),l.strategy=new o.default(s,u._polygon,u._points),h.textContent="Locked Scaling";break;case"2":l.strategy.destroy(),l.strategy=new r.default(s,u._polygon,u._points),h.textContent="Unlocked Scaling";break;case"3":v=!0,l.strategy.destroy(),l.strategy=new n.default(s,u._polygon,u._points),h.textContent="Polygon (LOCKED)",h.style.color="lightcoral",h.style.fontWeight="bold"}});var b=document.createElement("div");b.className="preview projection",b.style.position="relative",b.style.width="100%",b.style.height="100%",b.style.overflow="hidden";var S=1;this._polygon.prepare(s),this._subject.prepare(b,this._polygon,this._points),requestAnimationFrame(function e(){u._polygon.draw(),u._subject.draw(b,u._polygon,u._points),S<2&&(S+=.0025),requestAnimationFrame(e)}),s.append(b)}return l(a,[{key:"destroy",value:function(){}}]),a}(),d=u;exports.default=d;
},{"./Core/Shape/Point":"rP2Z","./Core/Shape/Polygon":"HzI9","./Strategy/FreePolygonStrategy":"Xuv6","./Strategy/LockedScalingStrategy":"Q3Dp","./Strategy/UnlockedScalingStrategy":"Tn6e"}],"Kc4j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../Core/Math/Matrix")),e=require("../Core/Math/Vector");function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=a?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(r,i,o):r[i]=t[i]}return r.default=t,e&&e.set(t,r),r}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var c=function(){function n(){a(this,n),this._transform=t.default.identity(),this._element=document.createElement("div"),this._element.className="subject image",this._element.style.position="absolute",this._element.style.pointerEvents="none",this._element.style.backgroundImage='url("https://media.giphy.com/media/koUtwnvA3TY7C/giphy.gif")',this._element.style.backgroundSize="calc(100% - 6px) calc(100% - 6px)",this._element.style.backgroundRepeat="no-repeat",this._element.style.backgroundPosition="center"}return o(n,[{key:"prepare",value:function(t,e,n){t.append(this._element)}},{key:"draw",value:function(n,r,a){var i=(0,e.distance)(a.a,a.b),o=(0,e.distance)(a.a,a.d);this._element.style.width="".concat(i,"px"),this._element.style.height="".concat(o,"px"),this._transform=(0,t.translate)(this._transform,-i*r.origin.x,-o*r.origin.y),this._transform=(0,t.rotate)(this._transform,r.direction);var c=this._transform,s=c.a,l=c.b,u=c.c,f=c.d,p=c.tx,y=c.ty;this._element.style.transformOrigin="".concat(100*r.origin.x,"% ").concat(100*r.origin.y,"%"),this._element.style.transform="matrix(".concat(s,", ").concat(l,", ").concat(u,", ").concat(f,", ").concat(r.x+p,", ").concat(r.y+y,")"),n.style.clipPath="polygon(".concat(r.points.map(function(t){return"".concat(t.x,"px ").concat(t.y,"px")}),")")}},{key:"strategy",get:function(){return this._strategy},set:function(t){this._strategy=t}}]),n}(),s=c;exports.default=s;
},{"../Core/Math/Matrix":"cCND","../Core/Math/Vector":"SqR3"}],"E7Wx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.main=u,require("./dev");var e=t(require("./OverlayEditor")),r=t(require("./Subject/ImageSubject"));function t(e){return e&&e.__esModule?e:{default:e}}function u(){var t=document.querySelector(".preview"),u=new r.default;new e.default(t,u)}
},{"./dev":"vqNL","./OverlayEditor":"ESQc","./Subject/ImageSubject":"Kc4j"}]},{},["E7Wx"], "application")
//# sourceMappingURL=/prototype--visual-layer-editor/lib.93bfb19a.js.map